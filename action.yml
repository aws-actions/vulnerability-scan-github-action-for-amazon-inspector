name: 'Amazon Inspector SBOM Generator'
description: 'Generate SBOMs and scan for vulnerabilities in your project repository or build artifacts'
inputs:
  artifact_type:
    description: 'The artifact you would like to scan with Amazon Inspector. Valid choices are "repository", "container", "binary", or "archive".'
    required: true
    default: 'repository'

  artifact_path:
    description: 'The path to the artifact you would like to scan with Amazon Inspector. If scanning a container image, you must provide a  value that follows the docker pull convention: "NAME[:TAG|@DIGEST]", for example, "alpine:latest".'
    required: yes
    default: './'

runs:
  using: 'docker'
  image: 'Dockerfile'
  args:
    - ${{ inputs.artifact_type }}
    - ${{ inputs.artifact_path }}

